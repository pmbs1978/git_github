<!DOCTYPE html>
<html lang="pt-PT">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial: Criar Repositório Local e Conectar ao GitHub</title>
    <style>
      /* Estilo para garantir uma boa legibilidade e apresentação */
      html {
        scroll-behavior: smooth;
        scroll-padding-top: 90px; /* Impede que o menu cubra os títulos */
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        line-height: 1.7;
        background-color: #f8f9fa;
        color: #343a40;
        margin: 0;
        padding: 20px;
      }
      .container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }
      h1,
      h2,
      h3 {
        color: #2c3e50;
        border-bottom: 2px solid #e9ecef;
        padding-bottom: 10px;
        font-weight: 600;
      }
      h1 {
        text-align: center;
        font-size: 2.5em;
        border-bottom: none;
      }
      h2 {
        font-size: 2em;
        margin-top: 2.5em;
      }
      h3 {
        font-size: 1.5em;
        margin-top: 1.8em;
        border-bottom: none;
      }
      code {
        background-color: #e9ecef;
        padding: 3px 6px;
        border-radius: 4px;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo,
          Courier, monospace;
        font-size: 0.95em;
      }
      pre {
        background-color: #2d2d2d;
        color: #f1f1f1;
        padding: 1.2em;
        border-radius: 8px;
        overflow-x: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      }
      pre code {
        background-color: transparent;
        padding: 0;
        color: inherit;
      }
      a {
        color: #007bff;
        text-decoration: none;
        font-weight: 500;
      }
      a:hover {
        text-decoration: underline;
      }
      ul,
      ol {
        padding-left: 20px;
      }
      li {
        margin-bottom: 12px;
      }
      .note {
        background-color: #e7f3fe;
        border-left: 5px solid #007bff;
        padding: 15px 20px;
        margin: 25px 0;
        border-radius: 0 8px 8px 0;
      }
      header,
      footer {
        text-align: center;
      }

      /* --- Estilos do Menu de Navegação --- */
      .main-nav {
        position: sticky;
        top: 10px;
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        z-index: 10;
        padding: 0.5rem 0;
        border-radius: 8px;
        border: 1px solid #dee2e6;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.07);
        margin: 1.5rem 0;
      }
      .main-nav ul {
        display: flex;
        justify-content: center;
        align-items: center;
        list-style: none;
        margin: 0;
        padding: 0;
        flex-wrap: wrap; /* Permite que o menu quebre em ecrãs menores */
      }
      .main-nav li {
        margin: 5px 10px;
      }
      .main-nav a {
        display: block;
        padding: 8px 16px;
        color: #343a40;
        font-weight: 600;
        border-radius: 6px;
        transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
      }
      .main-nav a:hover {
        background-color: #007bff;
        color: #ffffff;
        text-decoration: none;
      }

      /* --- Estilos para Funcionalidades Gemini --- */
      .gemini-feature {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        margin-top: 2rem;
      }
      .gemini-feature h3 {
        margin-top: 0;
      }
      .gemini-feature textarea {
        width: 100%;
        min-height: 80px;
        padding: 10px;
        border-radius: 6px;
        border: 1px solid #ced4da;
        font-family: inherit;
        font-size: 1rem;
        margin-bottom: 1rem;
        box-sizing: border-box;
      }
      .gemini-feature button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 6px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s, transform 0.1s;
      }
      .gemini-feature button:hover {
        background-color: #0056b3;
      }
      .gemini-feature button:disabled {
        background-color: #6c757d;
        cursor: not-allowed;
      }
      .gemini-result {
        margin-top: 1.5rem;
        padding: 1rem;
        background-color: #e9ecef;
        border-radius: 6px;
        white-space: pre-wrap;
        word-wrap: break-word;
        min-height: 30px;
      }
      .gemini-result.loading {
        text-align: center;
        font-style: italic;
        color: #6c757d;
      }

      footer {
        margin-top: 3rem;
        color: #6c757d;
        font-size: 0.9em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Tutorial: Criar um Repositório Local e Conectar ao GitHub</h1>
        <p>Um guia passo a passo para iniciar os seus projetos com Git.</p>
      </header>

      <nav class="main-nav">
        <ul>
          <li><a href="#intro">Introdução</a></li>
          <li><a href="#pre-requisitos">Pré-requisitos</a></li>
          <li><a href="#parte1">Começar do Zero</a></li>
          <li><a href="#parte2">Conectar ao Remoto</a></li>
          <li><a href="#parte3">Clonar Remoto</a></li>
          <li><a href="#resumo">Resumo</a></li>
          <li><a href="#commit-generator">Gerador Commit</a></li>
          <li><a href="#next-steps">Próximos Passos</a></li>
        </ul>
      </nav>

      <main>
        <section id="intro">
          <!-- ... Conteúdo existente ... -->
          <h2>Introdução</h2>
          <p>
            Este tutorial explica de forma clara como criar um repositório Git
            no seu computador (local) e como conectá-lo a um repositório remoto
            no GitHub. Este é um fluxo de trabalho fundamental para qualquer
            programador.
          </p>
          <p>A ideia central é que existem dois "locais":</p>
          <ul>
            <li>
              <strong>Repositório Local:</strong> Uma pasta no seu computador
              onde o Git está a "observar" as alterações nos ficheiros.
            </li>
            <li>
              <strong>Repositório Remoto:</strong> Um espaço nos servidores do
              GitHub onde o seu código fica guardado, servindo como backup e
              permitindo a colaboração.
            </li>
          </ul>
        </section>

        <section id="pre-requisitos">
          <!-- ... Conteúdo existente ... -->
          <h2>Pré-requisitos</h2>
          <p>Antes de começar, garanta que tem o seguinte:</p>
          <ol>
            <li>
              <strong>Git Instalado:</strong> Se não tiver, pode instalá-lo no
              seu sistema. No Ubuntu/Debian:
              <pre><code>sudo apt update && sudo apt install git</code></pre>
            </li>
            <li>
              <strong>Conta no GitHub:</strong> Uma conta gratuita em
              <a href="https://github.com" target="_blank">GitHub.com</a>.
            </li>
            <li>
              <strong>Git Configurado:</strong> Configure o seu nome de
              utilizador e email no Git com os seguintes comandos no terminal:
              <pre><code>git config --global user.name "O Seu Nome"
git config --global user.email "o.seu.email@exemplo.com"</code></pre>
            </li>
          </ol>
        </section>

        <section id="parte1">
          <h2>Parte 1: Começar um Projeto do Zero (Local)</h2>

          <h3>Passo 1: Criar uma pasta para o projeto</h3>
          <p>
            Abra o terminal e crie uma nova pasta para o seu projeto, depois
            navegue para dentro dela.
          </p>
          <pre><code># Cria uma nova pasta chamada 'meu-primeiro-repo'
mkdir meu-primeiro-repo

# Entra na pasta que acabou de criar
cd meu-primeiro-repo</code></pre>

          <h3>Passo 2: Iniciar o Git na pasta</h3>
          <p>
            Este comando "cria" o repositório local, adicionando uma pasta
            oculta <code>.git</code> para monitorizar as alterações.
          </p>
          <pre><code>git init</code></pre>

          <h3>Passo 3: Criar e Adicionar os seus primeiros ficheiros</h3>
          <p>
            Vamos criar um ficheiro <code>README.md</code> de exemplo e depois
            adicioná-lo à "staging area" (área de preparação) do Git.
          </p>
          <pre><code># Cria um ficheiro README.md com um título dentro
echo "# O Meu Primeiro Repositório" > README.md

# Adiciona o ficheiro à 'staging area'
git add README.md</code></pre>

          <h3>Passo 4: Fazer o "Commit" das alterações</h3>
          <p>
            Um "commit" é um ponto de salvaguarda no histórico do seu projeto.
            Vamos guardar as alterações que estão na staging area com uma
            mensagem descritiva.
          </p>
          <pre><code>git commit -m "Commit inicial: Adiciona o ficheiro README"</code></pre>
          <p>
            Neste ponto, o seu repositório local está criado e já tem um registo
            no histórico.
          </p>
        </section>

        <section id="parte2">
          <h2>Parte 2: Conectar o seu Projeto Local ao GitHub</h2>

          <h3>Passo 1: Criar um novo repositório no GitHub</h3>
          <ol>
            <li>
              Aceda à sua conta no
              <a href="https://github.com" target="_blank">GitHub.com</a>.
            </li>
            <li>
              No canto superior direito, clique no ícone <strong>+</strong> e
              selecione <strong>"New repository"</strong>.
            </li>
            <li>
              Dê um nome ao repositório (ex: <code>meu-primeiro-repo</code>).
            </li>
            <li>
              <strong>MUITO IMPORTANTE:</strong> Deixe as caixas "Add a README
              file", "Add .gitignore" e "Choose a license"
              <strong>desmarcadas</strong>. O repositório deve começar vazio
              para evitar conflitos.
            </li>
            <li>Clique em <strong>"Create repository"</strong>.</li>
          </ol>

          <h3>Passo 2: Conectar o seu repositório local ao remoto</h3>
          <p>
            O GitHub irá mostrar-lhe uma página com comandos. Iremos usar os
            comandos da secção
            <strong
              >"...or push an existing repository from the command line"</strong
            >.
          </p>

          <h4>1. Adicionar o endereço remoto</h4>
          <p>
            Este comando define um "apelido" (<code>origin</code>) para o URL do
            seu repositório no GitHub.
          </p>
          <pre><code># Substitua o URL pelo URL do seu repositório
git remote add origin https://github.com/o-seu-username/meu-primeiro-repo.git</code></pre>

          <h4>2. Renomear a branch principal para "main"</h4>
          <p>Esta é uma convenção moderna e uma boa prática.</p>
          <pre><code>git branch -M main</code></pre>

          <h4>3. Enviar o código (Push) para o GitHub</h4>
          <p>
            Este comando envia os seus commits locais para o repositório remoto
            no GitHub.
          </p>
          <pre><code>git push -u origin main</code></pre>
          <div class="note">
            <p>
              Poderá ser pedido para fazer login com as suas credenciais do
              GitHub no terminal para autorizar esta ação.
            </p>
          </div>
        </section>

        <!-- --- Nova Secção: Clonar Repositório --- -->
        <section id="parte3">
          <h2>
            Alternativa: Criar um Repositório Local a Partir de um Remoto (git
            clone)
          </h2>
          <p>
            Este é o cenário mais comum quando quer contribuir para um projeto
            que já existe ou continuar a trabalhar no seu projeto noutro
            computador.
          </p>
          <p>
            O comando <code>git clone</code> automatiza o processo: descarrega o
            projeto, cria o repositório local e configura a ligação ao remoto
            (<code>origin</code>) automaticamente.
          </p>

          <h3>Passo 1: Encontrar e Copiar o URL do Repositório Remoto</h3>
          <ol>
            <li>Vá à página do repositório no GitHub que deseja clonar.</li>
            <li>Clique no botão verde <strong>&lt;&gt; Code</strong>.</li>
            <li>
              Certifique-se que a aba <strong>HTTPS</strong> está selecionada e
              copie o URL.
            </li>
          </ol>

          <h3>Passo 2: Clonar o Repositório no seu Computador</h3>
          <p>
            Abra o terminal na pasta onde quer que o projeto seja guardado (por
            exemplo, na sua pasta <code>Documentos</code> ou
            <code>Projetos</code>).
          </p>
          <pre><code># Cole o URL que copiou do GitHub
git clone https://github.com/nome-do-dono/nome-do-repo.git</code></pre>
          <div class="note">
            <p>
              O Git irá criar uma nova pasta com o nome do repositório,
              descarregar todos os ficheiros e todo o histórico de commits. Já
              está pronto a trabalhar!
            </p>
          </div>
        </section>

        <section id="resumo">
          <h2>Resumo do Fluxo de Trabalho Diário</h2>
          <p>
            Após a configuração inicial (seja a começar do zero ou a clonar), o
            seu processo diário será:
          </p>
          <ol>
            <li>Trabalhe nos seus ficheiros (crie, edite, apague).</li>
            <li>
              Adicione as alterações à staging area:
              <pre><code>git add .</code></pre>
            </li>
            <li>
              Faça o commit das alterações com uma mensagem:
              <pre><code>git commit -m "Mensagem descritiva do que fiz"</code></pre>
            </li>
            <li>
              Envie as alterações para o GitHub:
              <pre><code>git push</code></pre>
            </li>
          </ol>
        </section>

        <!-- --- Nova Secção: Gerador de Commit --- -->
        <section id="commit-generator">
          <h2>Ferramentas com IA</h2>
          <div class="gemini-feature">
            <h3>Gerador de Mensagem de Commit</h3>
            <p>
              Descreva as alterações que fez e a IA irá sugerir uma mensagem de
              commit formatada.
            </p>
            <textarea
              id="commit-description"
              placeholder="Ex: corrigi um bug no formulário de login e adicionei o novo logo na barra de navegação..."
            ></textarea>
            <button id="generate-commit-btn">✨ Gerar Mensagem</button>
            <div id="commit-result" class="gemini-result"></div>
          </div>
        </section>

        <!-- --- Nova Secção: Próximos Passos --- -->
        <section id="next-steps">
          <h2>Próximos Passos na sua Jornada Git</h2>
          <div class="gemini-feature">
            <h3>O que aprender a seguir?</h3>
            <p>
              Não sabe o que estudar a seguir? Clique no botão para obter
              sugestões personalizadas do que aprender para dominar o Git.
            </p>
            <button id="next-steps-btn">✨ Sugerir Próximos Passos</button>
            <div id="next-steps-result" class="gemini-result"></div>
          </div>
        </section>
      </main>

      <footer>
        <p>Tutorial gerado para facilitar a aprendizagem de Git e GitHub.</p>
      </footer>
    </div>

    <script>
      const commitDescription = document.getElementById("commit-description");
      const generateCommitBtn = document.getElementById("generate-commit-btn");
      const commitResult = document.getElementById("commit-result");

      const nextStepsBtn = document.getElementById("next-steps-btn");
      const nextStepsResult = document.getElementById("next-steps-result");

      const apiKey = ""; // A chave API será injetada pelo ambiente, não a adicione aqui.
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

      // Função para chamar a API do Gemini com retentativa exponencial
      async function callGemini(prompt, button, resultElement) {
        button.disabled = true;
        const originalButtonText = button.textContent;
        button.textContent = "A gerar...";
        resultElement.innerHTML = `<p class="loading">A comunicar com a IA...</p>`;
        resultElement.style.display = "block";

        let retries = 3;
        let delay = 1000;

        while (retries > 0) {
          try {
            const payload = {
              contents: [{ parts: [{ text: prompt }] }],
            };

            const response = await fetch(apiUrl, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });

            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();

            if (
              result.candidates &&
              result.candidates[0].content &&
              result.candidates[0].content.parts[0].text
            ) {
              const text = result.candidates[0].content.parts[0].text;
              resultElement.innerHTML = text.replace(/```/g, ""); // Limpa a resposta
              button.disabled = false;
              button.textContent = originalButtonText;
              return; // Sucesso, sair da função
            } else {
              throw new Error("Resposta da API inválida.");
            }
          } catch (error) {
            console.error("Erro ao chamar a API Gemini:", error);
            retries--;
            if (retries === 0) {
              resultElement.innerHTML = `<p style="color: red;">Não foi possível obter uma resposta da IA. Por favor, tente novamente mais tarde.</p>`;
              button.disabled = false;
              button.textContent = originalButtonText;
            } else {
              await new Promise((res) => setTimeout(res, delay));
              delay *= 2; // Aumenta o atraso para a próxima tentativa
            }
          }
        }
      }

      generateCommitBtn.addEventListener("click", () => {
        const description = commitDescription.value;
        if (!description.trim()) {
          commitResult.innerHTML = `<p style="color: orange;">Por favor, descreva as suas alterações.</p>`;
          return;
        }
        const prompt = `Baseado na seguinte descrição de alterações, gera uma mensagem de commit curta e bem formatada no estilo convencional (Conventional Commits). Responde apenas com a mensagem de commit, sem explicações adicionais. Descrição: "${description}"`;
        callGemini(prompt, generateCommitBtn, commitResult);
      });

      nextStepsBtn.addEventListener("click", () => {
        const prompt = `Acabei de aprender os básicos do git: init, add, commit, remote add, e push. Como um especialista em Git, sugere 3 a 5 próximos tópicos que eu deveria aprender para me tornar proficiente. Para cada tópico, fornece uma breve explicação da sua importância. Formata a resposta como uma lista HTML (usando <ul> e <li> com <strong> para os títulos). Responde apenas com o HTML.`;
        callGemini(prompt, nextStepsBtn, nextStepsResult);
      });
    </script>
  </body>
</html>
